  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "username" varchar, "stripe_customer_id" varchar, "first_name" varchar, "middle_name" varchar, "last_name" varchar, "currency" varchar)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (35.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20160901172748')[0m
  [1m[35m (3.9ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20160901172132');

[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-09-01 20:32:20 UTC], ["updated_at", 2016-09-01 20:32:20 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:32:20 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1133.2ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 10017ms (Views: 9954.6ms | ActiveRecord: 0.9ms)
  [1m[36mActiveRecord::SchemaMigration Load (14.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:35:01 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1033.0ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 2061ms (Views: 2012.3ms | ActiveRecord: 1.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:36:18 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (729.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 1192ms (Views: 1138.4ms | ActiveRecord: 0.8ms)
  [1m[36mActiveRecord::SchemaMigration Load (15.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:36:52 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (7.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1013.8ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.6ms)
Completed 200 OK in 2267ms (Views: 2215.2ms | ActiveRecord: 0.9ms)
  [1m[36mActiveRecord::SchemaMigration Load (13.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:44:12 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1121.4ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 2195ms (Views: 2101.8ms | ActiveRecord: 4.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:44:37 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (754.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 1228ms (Views: 1181.9ms | ActiveRecord: 0.8ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:44:38 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (10.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 161ms (Views: 42.6ms | ActiveRecord: 10.9ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:47:14 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1061.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 1551ms (Views: 1495.1ms | ActiveRecord: 1.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:47:15 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
Completed 200 OK in 166ms (Views: 51.1ms | ActiveRecord: 0.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (17.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:49:19 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1054.3ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.6ms)
Completed 200 OK in 2107ms (Views: 2054.9ms | ActiveRecord: 1.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:49:21 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (20.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 172ms (Views: 43.0ms | ActiveRecord: 20.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:50:13 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1181.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 1917ms (Views: 1862.8ms | ActiveRecord: 1.1ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:50:15 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (20.4ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
Completed 200 OK in 254ms (Views: 84.4ms | ActiveRecord: 0.5ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:50:15 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (78.5ms)
  Rendered layouts/_flash_messages.html.erb (4.9ms)
Completed 200 OK in 253ms (Views: 250.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:50:15 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"asdfasdf", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "asdfasdf"], ["LIMIT", 1]]
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (48.0ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 193ms (Views: 125.5ms | ActiveRecord: 6.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:52:26 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1300.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 2177ms (Views: 2097.5ms | ActiveRecord: 1.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:52:28 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (1.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 206ms (Views: 48.1ms | ActiveRecord: 2.3ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:52:29 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (2.2ms)
Completed 200 OK in 41ms (Views: 39.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:52:29 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 137ms (Views: 39.1ms | ActiveRecord: 0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:56:36 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1407.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (1.5ms)
Completed 200 OK in 2441ms (Views: 2186.5ms | ActiveRecord: 1.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:56:39 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (11.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 173ms (Views: 49.5ms | ActiveRecord: 11.3ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:56:39 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (14.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (2.0ms)
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:56:39 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 79ms (Views: 39.6ms | ActiveRecord: 0.3ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:56:39 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:57:03 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (851.0ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 1389ms (Views: 1337.1ms | ActiveRecord: 0.9ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:57:04 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (6.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (23.7ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_flash_messages.html.erb (1.7ms)
Completed 200 OK in 320ms (Views: 84.6ms | ActiveRecord: 0.5ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:57:04 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 56ms (Views: 51.9ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:57:05 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 122ms (Views: 50.7ms | ActiveRecord: 0.4ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:57:05 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (21.4ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 63ms (Views: 60.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:57:05 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (22.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$MZsgv0YaUGxrEGcy4alsgO3wGLwb0n.iPuAscD/J3D/pQxxnyZt8G"], ["confirmation_token", "LYyLfKQvJz4wQb5c1D7t"], ["confirmation_sent_at", 2016-09-01 20:57:05 UTC], ["created_at", 2016-09-01 20:57:05 UTC], ["updated_at", 2016-09-01 20:57:05 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (4.3ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 60.7ms
Completed 500 Internal Server Error in 682ms (ActiveRecord: 24.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:57:33 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (790.7ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 1294ms (Views: 1239.5ms | ActiveRecord: 1.1ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:57:34 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
Completed 200 OK in 169ms (Views: 70.8ms | ActiveRecord: 0.5ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:57:34 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (21.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 59ms (Views: 57.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:57:35 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 90ms (Views: 46.9ms | ActiveRecord: 0.8ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:57:35 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 55ms (Views: 54.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:57:35 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (15.8ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_flash_messages.html.erb (1.9ms)
Completed 200 OK in 85ms (Views: 56.2ms | ActiveRecord: 0.7ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:58:38 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (728.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 1192ms (Views: 1143.6ms | ActiveRecord: 0.9ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:58:39 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (13.5ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (2.2ms)
Completed 200 OK in 107ms (Views: 50.8ms | ActiveRecord: 0.6ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:58:39 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (37.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 72ms (Views: 70.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:58:39 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
Completed 200 OK in 77ms (Views: 36.5ms | ActiveRecord: 0.5ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:58:39 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 38ms (Views: 36.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:58:39 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 64ms (Views: 40.0ms | ActiveRecord: 0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:59:08 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (702.9ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 1198ms (Views: 1148.0ms | ActiveRecord: 0.9ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:59:09 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 158ms (Views: 42.1ms | ActiveRecord: 0.5ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:59:09 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:59:09 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 83ms (Views: 38.2ms | ActiveRecord: 0.4ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 16:59:09 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.7ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 38ms (Views: 36.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 16:59:09 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_flash_messages.html.erb (0.6ms)
Completed 200 OK in 59ms (Views: 35.9ms | ActiveRecord: 0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:00:25 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (816.9ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 1315ms (Views: 1260.6ms | ActiveRecord: 0.9ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:00:26 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.7ms)
Completed 200 OK in 150ms (Views: 53.1ms | ActiveRecord: 0.5ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:00:26 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 46ms (Views: 40.9ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:00:26 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 97ms (Views: 49.7ms | ActiveRecord: 0.5ms)
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:00:27 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (13.4ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (3.2ms)
Completed 200 OK in 52ms (Views: 51.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:00:27 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (14.3ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_flash_messages.html.erb (2.4ms)
Completed 200 OK in 101ms (Views: 64.0ms | ActiveRecord: 0.5ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:05:28 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.4ms)
  Rendered devise/registrations/new.html.erb within layouts/application (876.1ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
Completed 200 OK in 1540ms (Views: 1444.2ms | ActiveRecord: 3.5ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:05:30 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 108ms (Views: 45.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:05:30 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:05:30 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 82ms (Views: 38.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:05:30 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 43ms (Views: 41.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:05:30 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$N33wb.3wpZKFU75SmiN62O2zaY5K4Jt3mEcpAsKrw1GnLE0q6azSq"], ["confirmation_token", "Rwnjz7LvA-ukQLbBWuor"], ["confirmation_sent_at", 2016-09-01 21:05:30 UTC], ["created_at", 2016-09-01 21:05:30 UTC], ["updated_at", 2016-09-01 21:05:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (6.5ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 62.0ms
Completed 500 Internal Server Error in 387ms (ActiveRecord: 0.8ms)
  [1m[35m (42.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:09:07 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (681.9ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 1162ms (Views: 1111.6ms | ActiveRecord: 0.7ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:09:08 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 92ms (Views: 37.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:09:08 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
Completed 200 OK in 36ms (Views: 34.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:09:08 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
Completed 200 OK in 91ms (Views: 43.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:09:09 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.9ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 46ms (Views: 45.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:09:09 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$Y85dGdZDAXe6un3kwIa/n.nXFCm.bYnv9KUX4O1m8QsTUl3UYNwyO"], ["confirmation_token", "8gzG3Hmo4WgGEWDDwjMf"], ["confirmation_sent_at", 2016-09-01 21:09:09 UTC], ["created_at", 2016-09-01 21:09:09 UTC], ["updated_at", 2016-09-01 21:09:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (6.2ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 45.6ms
Completed 500 Internal Server Error in 270ms (ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.5ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:09:42 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (990.4ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
Completed 200 OK in 1580ms (Views: 1527.9ms | ActiveRecord: 0.8ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:09:44 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 86ms (Views: 36.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:09:44 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (15.2ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (1.5ms)
Completed 200 OK in 49ms (Views: 47.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:09:44 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 76ms (Views: 37.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:09:44 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
Completed 200 OK in 77ms (Views: 75.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:09:44 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$lcd8Ug/dxTVTCkp3sptIPeAfk6h8qQbpals7yxvYW2IwheGp4ZTQu"], ["confirmation_token", "9_egXUxKy26LycKDux_s"], ["confirmation_sent_at", 2016-09-01 21:09:44 UTC], ["created_at", 2016-09-01 21:09:44 UTC], ["updated_at", 2016-09-01 21:09:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (5.2ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 61.3ms
Completed 500 Internal Server Error in 366ms (ActiveRecord: 1.9ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (9.5ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (21.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:13:49 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1206.2ms)
  Rendered layouts/_header.html.erb (34.7ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
Completed 200 OK in 1995ms (Views: 1875.5ms | ActiveRecord: 1.4ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:13:51 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (5.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (25.0ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
Completed 200 OK in 130ms (Views: 69.1ms | ActiveRecord: 5.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:13:51 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (24.4ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 81ms (Views: 80.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:13:51 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_flash_messages.html.erb (1.7ms)
Completed 200 OK in 209ms (Views: 59.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:13:51 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_flash_messages.html.erb (5.0ms)
Completed 200 OK in 112ms (Views: 109.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:13:52 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$1VQbmyFZhWhi7Ax/UUhh.eEIFuI8tJx0beFw5u6cFZ/NTvonpY1By"], ["confirmation_token", "kP1SuDA3Q7PDkzQNGXLy"], ["confirmation_sent_at", 2016-09-01 21:13:52 UTC], ["created_at", 2016-09-01 21:13:52 UTC], ["updated_at", 2016-09-01 21:13:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (6.3ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 203.0ms
Completed 500 Internal Server Error in 643ms (ActiveRecord: 3.5ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:16:07 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (914.3ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
Completed 200 OK in 1960ms (Views: 1909.3ms | ActiveRecord: 0.8ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:16:09 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (5.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (15.1ms)
  Rendered layouts/_header.html.erb (6.4ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 181ms (Views: 76.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:16:09 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (19.8ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 82ms (Views: 81.0ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:16:09 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (15.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (45.5ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_flash_messages.html.erb (3.9ms)
Completed 200 OK in 175ms (Views: 92.3ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-01 17:16:10 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
Completed 200 OK in 58ms (Views: 56.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-01 17:16:10 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$2doezNuTiFXBs23rGg4s..ylf/qbE00m6wDoLG2TJfY3jy6ELB9EO"], ["confirmation_token", "BwXxZU7jnMLWNyUwSosh"], ["confirmation_sent_at", 2016-09-01 21:16:10 UTC], ["created_at", 2016-09-01 21:16:10 UTC], ["updated_at", 2016-09-01 21:16:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (1.8ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 411.9ms
Sent mail to my@email.com (37.0ms)
Date: Thu, 01 Sep 2016 17:16:10 -0400
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: my@email.com
Message-ID: <57c89a9ac71a4_3cc13ff838c33a1489579@Thads-MBP.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome my@email.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://www.example.com/users/confirmation?confirmation_token=BwXxZU7jnMLWNyUwSosh">Confirm my account</a></p>

Redirected to http://www.example.com/
Completed 302 Found in 763ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2016-09-01 17:16:10 -0400
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
Completed 200 OK in 26ms (Views: 19.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (16.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (21.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-09-02 18:49:29 UTC], ["updated_at", 2016-09-02 18:49:29 UTC]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "charges" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "invoice_stripe_id" varchar, "charge_stripe_id" varchar, "type_of_charge" varchar, "amount" integer, "description" varchar, "date_of_charge" varchar, "card_charged" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX "index_charges_on_user_id" ON "charges" ("user_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "invoice_stripe_id" varchar, "subscription_stripe_id" varchar, "type_of_invoice" varchar, "amount" integer, "description" varchar, "date_of_invoice" varchar, "card_charged" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE  INDEX "index_invoices_on_user_id" ON "invoices" ("user_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "payment_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX "index_payment_profiles_on_user_id" ON "payment_profiles" ("user_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "stripe_id" varchar, "name" varchar, "description" text, "amount" integer, "interval" varchar, "published" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "plan_id" integer, "stripe_id" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX "index_subscriptions_on_plan_id" ON "subscriptions" ("plan_id")[0m
  [1m[35m (1.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_subscriptions_on_plan_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_subscriptions_on_plan_id' AND type='index'
[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_subscriptions_on_user_id" ON "subscriptions" ("user_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "failed_attempts" integer DEFAULT 0 NOT NULL, "unlock_token" varchar, "locked_at" datetime, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "username" varchar, "stripe_customer_id" varchar, "first_name" varchar, "middle_name" varchar, "last_name" varchar, "currency" varchar)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_confirmation_token' AND type='index'
[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_unlock_token" ON "users" ("unlock_token")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20160902030804')[0m
  [1m[35m (1.5ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20160901172132'), ('20160901172748'), ('20160901234054'), ('20160902022124'), ('20160902024809'), ('20160902030756');

[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-09-02 18:51:23 UTC], ["updated_at", 2016-09-02 18:51:23 UTC]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 14:51:24 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1299.2ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 6144ms (Views: 6079.0ms | ActiveRecord: 1.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 14:51:30 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 150ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 14:51:30 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 53ms (Views: 50.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 14:51:30 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 56ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 14:51:30 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.4ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 48ms (Views: 46.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 14:51:30 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mPlan Load (2.6ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:02:01 UTC], ["updated_at", 2016-09-02 19:02:01 UTC]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (4.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (4.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:02:17 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (951.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (1.9ms)
Completed 200 OK in 1865ms (Views: 1752.6ms | ActiveRecord: 1.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:02:19 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 98ms (ActiveRecord: 1.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:02:19 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (11.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 48ms (Views: 46.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:02:19 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (2.4ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 57ms (ActiveRecord: 3.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:02:20 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (4.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.0ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.7ms)
Completed 200 OK in 85ms (Views: 78.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:02:20 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (3.6ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:04:11 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (791.8ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1338ms (Views: 1266.7ms | ActiveRecord: 1.4ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:04:12 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:04:51 UTC], ["updated_at", 2016-09-02 19:04:51 UTC]]
  [1m[35m (4945.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:05:08 UTC], ["updated_at", 2016-09-02 19:05:08 UTC]]
  [1m[35m (4946.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 71409ms (ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:05:24 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 46ms (Views: 43.9ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:05:24 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2212ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:05:26 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 39ms (Views: 37.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:05:26 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1218ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:05:31 UTC], ["updated_at", 2016-09-02 19:05:31 UTC]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (4.1ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:05:44 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1405.2ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1993ms (Views: 1934.8ms | ActiveRecord: 0.8ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:05:46 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 37719ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:06:24 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.2ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 69ms (Views: 67.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:06:24 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2302ms (ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:06:26 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 52ms (Views: 48.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:06:26 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1277ms (ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mPlan Load (0.9ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:09:37 UTC], ["updated_at", 2016-09-02 19:09:37 UTC]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? AND ("plans"."id" != ?) LIMIT ?[0m  [["stripe_id", "starter_plan"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[36mPlan Load (1.0ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (4.7ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (2.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (6.7ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:10:07 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (19.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1577.2ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 2340ms (Views: 2249.3ms | ActiveRecord: 1.2ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:10:10 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 275119ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:14:45 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:14:45 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1835ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:14:47 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:14:47 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 993ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.7ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (3.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (11.6ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:14:58 UTC], ["updated_at", 2016-09-02 19:14:58 UTC]]
  [1m[35m (15.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:14:58 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1244.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1841ms (Views: 1696.2ms | ActiveRecord: 1.7ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:15:00 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 142314ms (Views: 52.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:17:22 UTC], ["updated_at", 2016-09-02 19:17:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:17:22 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (3.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 48ms (Views: 46.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:17:22 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans"[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 6696ms (Views: 67.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:17:29 UTC], ["updated_at", 2016-09-02 19:17:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:17:29 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 53ms (Views: 50.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:17:29 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at", "stripe_customer_id", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$l1FFxRHWwd8SoofLw8kaP.fg1EOQ8Om26t81KhGUrlFRW8Kwc4VJG"], ["confirmation_token", "PE8y4xZyjnTcHZEhqU4L"], ["confirmation_sent_at", 2016-09-02 19:17:31 UTC], ["created_at", 2016-09-02 19:17:31 UTC], ["updated_at", 2016-09-02 19:17:31 UTC], ["stripe_customer_id", "cus_97cPShBLKYzSWs"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 19:17:31 UTC], ["updated_at", 2016-09-02 19:17:31 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97cPjAykmU5nme"], ["created_at", 2016-09-02 19:17:32 UTC], ["updated_at", 2016-09-02 19:17:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (1.8ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 498.1ms
Sent mail to my@email.com (51.5ms)
Date: Fri, 02 Sep 2016 15:17:33 -0400
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: my@email.com
Message-ID: <57c9d04d2071e_538c3fc0510339f420799@Thads-MBP.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome my@email.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://www.example.com/users/confirmation?confirmation_token=PE8y4xZyjnTcHZEhqU4L">Confirm my account</a></p>

Redirected to http://www.example.com/
Completed 302 Found in 3797ms (ActiveRecord: 5.9ms)
Started GET "/" for 127.0.0.1 at 2016-09-02 15:17:33 -0400
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 24ms (Views: 21.5ms | ActiveRecord: 0.0ms)
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (4.1ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:23:24 UTC], ["updated_at", 2016-09-02 19:23:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:23:24 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (735.5ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1151ms (Views: 1101.3ms | ActiveRecord: 0.7ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:23:26 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 19815ms (Views: 43.5ms | ActiveRecord: 0.9ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:23:45 UTC], ["updated_at", 2016-09-02 19:23:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:23:45 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 45ms (Views: 43.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:23:45 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1870ms (Views: 39.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:23:47 UTC], ["updated_at", 2016-09-02 19:23:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:23:47 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 41ms (Views: 40.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:23:47 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at", "stripe_customer_id", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$36/X4iuNUxY1OcWgTfooT.UmjIDRjAx70NdZQTgIja3sipZ9wiPVe"], ["confirmation_token", "CxtYzgY-Ne9v-DbpHFy6"], ["confirmation_sent_at", 2016-09-02 19:23:49 UTC], ["created_at", 2016-09-02 19:23:49 UTC], ["updated_at", 2016-09-02 19:23:49 UTC], ["stripe_customer_id", "cus_97cVDsJRrX4TMQ"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 19:23:49 UTC], ["updated_at", 2016-09-02 19:23:49 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97cVN5H00I3uQ3"], ["created_at", 2016-09-02 19:23:50 UTC], ["updated_at", 2016-09-02 19:23:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (1.7ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 350.6ms
Sent mail to my@email.com (9.6ms)
Date: Fri, 02 Sep 2016 15:23:50 -0400
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: my@email.com
Message-ID: <57c9d1c6a5bfb_53cc3fc95903fa04103a1@Thads-MBP.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome my@email.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://www.example.com/users/confirmation?confirmation_token=CxtYzgY-Ne9v-DbpHFy6">Confirm my account</a></p>

Redirected to http://www.example.com/
Completed 302 Found in 2821ms (ActiveRecord: 4.7ms)
Started GET "/" for 127.0.0.1 at 2016-09-02 15:23:50 -0400
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (0.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (5.8ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (3.6ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:23:58 UTC], ["updated_at", 2016-09-02 19:23:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:23:58 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (738.3ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 1184ms (Views: 1129.8ms | ActiveRecord: 0.7ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:23:59 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 782ms (Views: 38.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:24:00 UTC], ["updated_at", 2016-09-02 19:24:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:24:00 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 49ms (Views: 47.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:24:00 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.8ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 739ms (Views: 40.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:24:00 UTC], ["updated_at", 2016-09-02 19:24:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2016-09-02 15:24:00 -0400
Processing by Users::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 49ms (Views: 47.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2016-09-02 15:24:00 -0400
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"my@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "my@email.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmation_token", "confirmation_sent_at", "created_at", "updated_at", "stripe_customer_id", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "my@email.com"], ["encrypted_password", "$2a$04$n1hGwEfnkJCgdNs9A0uz2e97d3y4dTmYQ8Qmepa./QXVi0BW1a41."], ["confirmation_token", "gPTBMH3P7EhyVLu5xxSB"], ["confirmation_sent_at", 2016-09-02 19:24:02 UTC], ["created_at", 2016-09-02 19:24:02 UTC], ["updated_at", 2016-09-02 19:24:02 UTC], ["stripe_customer_id", "cus_97cVLJWwM1pbfM"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 19:24:02 UTC], ["updated_at", 2016-09-02 19:24:02 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97cVcserWAjeAZ"], ["created_at", 2016-09-02 19:24:02 UTC], ["updated_at", 2016-09-02 19:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering devise/mailer/confirmation_instructions.html.erb
  Rendered devise/mailer/confirmation_instructions.html.erb (1.1ms)
Devise::Mailer#confirmation_instructions: processed outbound mail in 388.2ms
Sent mail to my@email.com (13.4ms)
Date: Fri, 02 Sep 2016 15:24:03 -0400
From: please-change-me-at-config-initializers-devise@example.com
Reply-To: please-change-me-at-config-initializers-devise@example.com
To: my@email.com
Message-ID: <57c9d1d33e8d9_53d93fe7e443fa246369e@Thads-MBP.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome my@email.com!</p>

<p>You can confirm your account email through the link below:</p>

<p><a href="http://www.example.com/users/confirmation?confirmation_token=gPTBMH3P7EhyVLu5xxSB">Confirm my account</a></p>

Redirected to http://www.example.com/
Completed 302 Found in 2335ms (ActiveRecord: 4.3ms)
Started GET "/" for 127.0.0.1 at 2016-09-02 15:24:03 -0400
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_flash_messages.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (4.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (4.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.4ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (88.6ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (32.9ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (49.5ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (9.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (39.6ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (18.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (31.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:45:45 UTC], ["updated_at", 2016-09-02 19:45:45 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$Vbwr7/mjAFJsDITV6SleIOTK1004hhCggwGjNiofR9N5xS3r0SBR6"], ["confirmed_at", 2016-09-02 19:45:44 UTC], ["created_at", 2016-09-02 19:45:46 UTC], ["updated_at", 2016-09-02 19:45:46 UTC], ["stripe_customer_id", "cus_97crBu6byIPun7"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 19:45:46 UTC], ["updated_at", 2016-09-02 19:45:46 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97crn4frCRVMuh"], ["created_at", 2016-09-02 19:45:47 UTC], ["updated_at", 2016-09-02 19:45:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (2.4ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (13.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:46:45 UTC], ["updated_at", 2016-09-02 19:46:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$j7f4bRjXKjxHb2Mzw5XG5uaL.vsrb5WwhTK9WIeCWZAI0Tu3RUFCO"], ["confirmed_at", 2016-09-02 19:46:44 UTC], ["created_at", 2016-09-02 19:46:46 UTC], ["updated_at", 2016-09-02 19:46:46 UTC], ["stripe_customer_id", "cus_97cshKRIl5C8m6"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 19:46:46 UTC], ["updated_at", 2016-09-02 19:46:46 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97cs4ns2ExaZsh"], ["created_at", 2016-09-02 19:46:47 UTC], ["updated_at", 2016-09-02 19:46:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 15:46:47 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (25.9ms)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (4.0ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:49:33 UTC], ["updated_at", 2016-09-02 19:49:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$fWYjPZsdxccf7Vpbi0YceOkguERNMkMOiI5wf9GOuG8RxwHHgjHgS"], ["confirmed_at", 2016-09-02 19:49:32 UTC], ["created_at", 2016-09-02 19:49:34 UTC], ["updated_at", 2016-09-02 19:49:34 UTC], ["stripe_customer_id", "cus_97cvY4E0XdJDxa"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 19:49:34 UTC], ["updated_at", 2016-09-02 19:49:34 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97cvJWfgtjvTPR"], ["created_at", 2016-09-02 19:49:35 UTC], ["updated_at", 2016-09-02 19:49:35 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (4.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (21.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:52:47 UTC], ["updated_at", 2016-09-02 19:52:47 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$Whaz0xC18aDAO1oGKp7XV.zUjqRijY0aa2g.XG8fhB0/DIy5.jnzm"], ["confirmed_at", 2016-09-02 19:52:46 UTC], ["created_at", 2016-09-02 19:52:49 UTC], ["updated_at", 2016-09-02 19:52:49 UTC], ["stripe_customer_id", "cus_97cyYN3ztKWN5D"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 19:52:49 UTC], ["updated_at", 2016-09-02 19:52:49 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97cy0JLFqz8T0x"], ["created_at", 2016-09-02 19:52:49 UTC], ["updated_at", 2016-09-02 19:52:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.5ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 19:56:25 UTC], ["updated_at", 2016-09-02 19:56:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$.YgI5WlColR9imirNqeFqOs7EEsVrdRO6KiMorupkLQih1cRkypCe"], ["confirmed_at", 2016-09-02 19:56:24 UTC], ["created_at", 2016-09-02 19:56:27 UTC], ["updated_at", 2016-09-02 19:56:27 UTC], ["stripe_customer_id", "cus_97d2uaBBfc2lRe"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 19:56:27 UTC], ["updated_at", 2016-09-02 19:56:27 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97d2Rc5CtIpIi6"], ["created_at", 2016-09-02 19:56:27 UTC], ["updated_at", 2016-09-02 19:56:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:03:30 UTC], ["updated_at", 2016-09-02 20:03:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$UCOKgVatgUuHhW8i6tKmNe19WoRedLCnA1k.nZgoAMedfQzEecxoi"], ["confirmed_at", 2016-09-02 20:03:29 UTC], ["created_at", 2016-09-02 20:03:31 UTC], ["updated_at", 2016-09-02 20:03:31 UTC], ["stripe_customer_id", "cus_97d97aCaKJYrCD"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:03:31 UTC], ["updated_at", 2016-09-02 20:03:31 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97d9d1QR0r3K5C"], ["created_at", 2016-09-02 20:03:32 UTC], ["updated_at", 2016-09-02 20:03:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (20.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:05:14 UTC], ["updated_at", 2016-09-02 20:05:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$HUjAXnT/G3smDbLUE0T5Y.Rk5wM8dDf1YZoGJuQSjY.EhmwwzcptW"], ["confirmed_at", 2016-09-02 20:05:13 UTC], ["created_at", 2016-09-02 20:05:15 UTC], ["updated_at", 2016-09-02 20:05:15 UTC], ["stripe_customer_id", "cus_97dA3efc5hIxAZ"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:05:15 UTC], ["updated_at", 2016-09-02 20:05:15 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dA4YNMr9SlCp"], ["created_at", 2016-09-02 20:05:16 UTC], ["updated_at", 2016-09-02 20:05:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:07:54 UTC], ["updated_at", 2016-09-02 20:07:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$ETKi8BkBHhv2IGvL83LpU.LEV8RIXAgg1JOI33i4miYRGXwh9jvMa"], ["confirmed_at", 2016-09-02 20:07:52 UTC], ["created_at", 2016-09-02 20:07:56 UTC], ["updated_at", 2016-09-02 20:07:56 UTC], ["stripe_customer_id", "cus_97dDnQk4mGXaPj"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:07:56 UTC], ["updated_at", 2016-09-02 20:07:56 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dDAGJookYaiv"], ["created_at", 2016-09-02 20:07:57 UTC], ["updated_at", 2016-09-02 20:07:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (3.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:08:29 UTC], ["updated_at", 2016-09-02 20:08:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$1SWCt6b/QNGw8JF2QP9CYulI0bB7u1zV3XiB10RHAWZDaSFX9AKoO"], ["confirmed_at", 2016-09-02 20:08:26 UTC], ["created_at", 2016-09-02 20:08:30 UTC], ["updated_at", 2016-09-02 20:08:30 UTC], ["stripe_customer_id", "cus_97dE4oEmWRWygo"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:08:30 UTC], ["updated_at", 2016-09-02 20:08:30 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dEqy2S0FZXj9"], ["created_at", 2016-09-02 20:08:31 UTC], ["updated_at", 2016-09-02 20:08:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (4.7ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:09:12 UTC], ["updated_at", 2016-09-02 20:09:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$S5VPFsctcYAFK3K4rjB2Mux4KKz26AftwB6ASxjE.6srNFjMBK6Je"], ["confirmed_at", 2016-09-02 20:09:11 UTC], ["created_at", 2016-09-02 20:09:18 UTC], ["updated_at", 2016-09-02 20:09:18 UTC], ["stripe_customer_id", "cus_97dEqjmo77AUTF"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (22.9ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:09:18 UTC], ["updated_at", 2016-09-02 20:09:18 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dE2NCjY4T2nA"], ["created_at", 2016-09-02 20:09:20 UTC], ["updated_at", 2016-09-02 20:09:20 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:09:20 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:09:20 UTC], ["last_sign_in_at", 2016-09-02 20:09:20 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:09:20 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (2799.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 3805ms (Views: 3797.1ms | ActiveRecord: 0.1ms)
  [1m[35m (42.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (1.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (3.8ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:12:33 UTC], ["updated_at", 2016-09-02 20:12:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$.hdy.hfUTw/XzEitoT9XueZK9iPlySC6WE52GHBU0OObDaTWKg3Dq"], ["confirmed_at", 2016-09-02 20:12:32 UTC], ["created_at", 2016-09-02 20:12:35 UTC], ["updated_at", 2016-09-02 20:12:35 UTC], ["stripe_customer_id", "cus_97dIn1Kaw0LRVi"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.5ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:12:35 UTC], ["updated_at", 2016-09-02 20:12:35 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dIpGUhzn5bdD"], ["created_at", 2016-09-02 20:12:35 UTC], ["updated_at", 2016-09-02 20:12:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:12:35 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:12:35 UTC], ["last_sign_in_at", 2016-09-02 20:12:35 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:12:35 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1358.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1863ms (Views: 1858.2ms | ActiveRecord: 0.3ms)
  [1m[35m (49.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (2.5ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (5.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:14:23 UTC], ["updated_at", 2016-09-02 20:14:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$/w7YmKu9i2jfzYDp/VPfJe3IsjXk0nC0jW6pSsA6yYTeH.pQR.x06"], ["confirmed_at", 2016-09-02 20:14:22 UTC], ["created_at", 2016-09-02 20:14:24 UTC], ["updated_at", 2016-09-02 20:14:24 UTC], ["stripe_customer_id", "cus_97dKIMsJkJeeYW"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.8ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:14:24 UTC], ["updated_at", 2016-09-02 20:14:24 UTC]]
  [1m[36mSubscription Load (0.4ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dKq25EizeOGW"], ["created_at", 2016-09-02 20:14:25 UTC], ["updated_at", 2016-09-02 20:14:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:14:25 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:14:25 UTC], ["last_sign_in_at", 2016-09-02 20:14:25 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:14:25 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (957.3ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1443ms (Views: 1438.6ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:14:26 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:14:26 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:14:26 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (30.1ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 59ms (Views: 55.2ms | ActiveRecord: 0.5ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (92.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (3.0ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (4.6ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (11.9ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (4.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (9.5ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:15:16 UTC], ["updated_at", 2016-09-02 20:15:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$Ly.JpjbMhZQ3FgwmCa470.32KMty9GmmMn9EZ12VQFkkOLQOYpuQi"], ["confirmed_at", 2016-09-02 20:15:15 UTC], ["created_at", 2016-09-02 20:15:17 UTC], ["updated_at", 2016-09-02 20:15:17 UTC], ["stripe_customer_id", "cus_97dKTilp9JRzSO"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:15:17 UTC], ["updated_at", 2016-09-02 20:15:17 UTC]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.4ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dKFf1j7jfA0V"], ["created_at", 2016-09-02 20:15:18 UTC], ["updated_at", 2016-09-02 20:15:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:15:18 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:15:18 UTC], ["last_sign_in_at", 2016-09-02 20:15:18 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:15:18 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1035.5ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1526ms (Views: 1520.3ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:15:19 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:15:19 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 1.2ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:15:19 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 0.5ms)
  [1m[35m (4.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:24:25 UTC], ["updated_at", 2016-09-02 20:24:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$iddNU4afNPafhupoDCUruuHitxPMDcJ1BWdAiJ.xCNQ7A1ku6OuCC"], ["confirmed_at", 2016-09-02 20:24:22 UTC], ["created_at", 2016-09-02 20:24:27 UTC], ["updated_at", 2016-09-02 20:24:27 UTC], ["stripe_customer_id", "cus_97dUOBdb87KHfQ"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:24:27 UTC], ["updated_at", 2016-09-02 20:24:27 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.6ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dUQcMKMIqMjC"], ["created_at", 2016-09-02 20:24:28 UTC], ["updated_at", 2016-09-02 20:24:28 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:24:28 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:24:28 UTC], ["last_sign_in_at", 2016-09-02 20:24:28 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:24:28 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1176.3ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 2494ms (Views: 2470.0ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:24:30 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:24:30 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:24:30 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 43ms (Views: 38.6ms | ActiveRecord: 0.4ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:24:31 UTC], ["updated_at", 2016-09-02 20:24:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.8ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$Q9pWgARHm1/SBJ5Qj5XxZ.mghVZQpvNacMUOiA1mKyLC8H9JH3jnm"], ["confirmed_at", 2016-09-02 20:24:22 UTC], ["created_at", 2016-09-02 20:24:31 UTC], ["updated_at", 2016-09-02 20:24:31 UTC], ["stripe_customer_id", "cus_97dUE9PX5bNojc"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:24:31 UTC], ["updated_at", 2016-09-02 20:24:31 UTC]]
  [1m[36mSubscription Load (1.4ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dU8uMHTrrtKX"], ["created_at", 2016-09-02 20:24:32 UTC], ["updated_at", 2016-09-02 20:24:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:24:32 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:24:32 UTC], ["last_sign_in_at", 2016-09-02 20:24:32 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:24:32 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 25.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.1ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:25:08 UTC], ["updated_at", 2016-09-02 20:25:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$W00KiyFkpr5sK4JQt/UOne7W0fXOFBRpuFEU5BrOU/58kRkIkNYCy"], ["confirmed_at", 2016-09-02 20:25:08 UTC], ["created_at", 2016-09-02 20:25:10 UTC], ["updated_at", 2016-09-02 20:25:10 UTC], ["stripe_customer_id", "cus_97dURHVHcAyawb"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:25:10 UTC], ["updated_at", 2016-09-02 20:25:10 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dUE2Pn21VZVW"], ["created_at", 2016-09-02 20:25:11 UTC], ["updated_at", 2016-09-02 20:25:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:25:11 -0400
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:25:11 UTC], ["last_sign_in_at", 2016-09-02 20:25:11 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:25:11 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1006.3ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (7.6ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 1507ms (Views: 1499.2ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:25:13 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:25:13 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:25:13 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (13.8ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 43ms (Views: 38.4ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:25:13 UTC], ["updated_at", 2016-09-02 20:25:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$U4nVrKOjgC7eOXb0TXkg0uwYn5kRl1g/6IRGx.qoEp1.7bQKemDIm"], ["confirmed_at", 2016-09-02 20:25:08 UTC], ["created_at", 2016-09-02 20:25:13 UTC], ["updated_at", 2016-09-02 20:25:13 UTC], ["stripe_customer_id", "cus_97dU1CigRnkIIZ"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:25:13 UTC], ["updated_at", 2016-09-02 20:25:13 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dUZUCfOaImaS"], ["created_at", 2016-09-02 20:25:14 UTC], ["updated_at", 2016-09-02 20:25:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:25:14 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:25:14 UTC], ["last_sign_in_at", 2016-09-02 20:25:14 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:25:14 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 30ms (Views: 24.8ms | ActiveRecord: 0.4ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:25:39 UTC], ["updated_at", 2016-09-02 20:25:39 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$OHwCHLxYWnTboA4ROFtUROYdo.BRKrFAtHDK2aG9mXvXqF.G/WHje"], ["confirmed_at", 2016-09-02 20:25:39 UTC], ["created_at", 2016-09-02 20:25:41 UTC], ["updated_at", 2016-09-02 20:25:41 UTC], ["stripe_customer_id", "cus_97dVxxd3x5tI2a"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.4ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:25:41 UTC], ["updated_at", 2016-09-02 20:25:41 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dVMdS81Vsqz8"], ["created_at", 2016-09-02 20:25:41 UTC], ["updated_at", 2016-09-02 20:25:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:25:41 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:25:41 UTC], ["last_sign_in_at", 2016-09-02 20:25:41 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:25:41 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (924.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 1471ms (Views: 1465.8ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:25:43 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:25:43 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 16ms (ActiveRecord: 1.3ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:25:43 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 43ms (Views: 38.6ms | ActiveRecord: 0.5ms)
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:25:43 UTC], ["updated_at", 2016-09-02 20:25:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$IvoMSuc5xAOpeYQDZONNluflL4KmU7ba3OFQjHBbVVHr4ygli0Gc."], ["confirmed_at", 2016-09-02 20:25:39 UTC], ["created_at", 2016-09-02 20:25:44 UTC], ["updated_at", 2016-09-02 20:25:44 UTC], ["stripe_customer_id", "cus_97dVSlJOuj1Aw5"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:25:44 UTC], ["updated_at", 2016-09-02 20:25:44 UTC]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dVJEQMidBm7p"], ["created_at", 2016-09-02 20:25:44 UTC], ["updated_at", 2016-09-02 20:25:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:25:44 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:25:44 UTC], ["last_sign_in_at", 2016-09-02 20:25:44 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:25:44 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (2.9ms)
Completed 200 OK in 29ms (Views: 26.1ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 16:25:44 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97dVJEQMidBm7p"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (348.4ms)
  Rendered payment_profiles/_credit_card.html.erb (11.3ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (401.5ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.5ms)
Completed 200 OK in 1597ms (Views: 429.7ms | ActiveRecord: 2.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.8ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:38:19 UTC], ["updated_at", 2016-09-02 20:38:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$fP/tPjre1kpCbmr3A49cvOKeD6CUR4vHN3IwZfXb/9bEkvCEzts9S"], ["confirmed_at", 2016-09-02 20:38:16 UTC], ["created_at", 2016-09-02 20:38:20 UTC], ["updated_at", 2016-09-02 20:38:20 UTC], ["stripe_customer_id", "cus_97diNp52yS8jhP"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:38:21 UTC], ["updated_at", 2016-09-02 20:38:21 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97diNJBOvTxp7V"], ["created_at", 2016-09-02 20:38:21 UTC], ["updated_at", 2016-09-02 20:38:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:38:21 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:38:21 UTC], ["last_sign_in_at", 2016-09-02 20:38:21 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:38:21 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1220.4ms)
  Rendered layouts/_header.html.erb (6.3ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 2273ms (Views: 2259.2ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:38:24 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:38:24 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:38:24 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 41ms (Views: 36.4ms | ActiveRecord: 0.4ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:38:24 UTC], ["updated_at", 2016-09-02 20:38:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (3.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$3oFj.KtIU1zwEEZtDQrhLucD.KM1AtW7vi2RJyRBkfpk.JweVy75S"], ["confirmed_at", 2016-09-02 20:38:16 UTC], ["created_at", 2016-09-02 20:38:25 UTC], ["updated_at", 2016-09-02 20:38:25 UTC], ["stripe_customer_id", "cus_97digeB2ilw91C"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:38:25 UTC], ["updated_at", 2016-09-02 20:38:25 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97di11EZvpuRyq"], ["created_at", 2016-09-02 20:38:26 UTC], ["updated_at", 2016-09-02 20:38:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:38:26 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:38:26 UTC], ["last_sign_in_at", 2016-09-02 20:38:26 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:38:26 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 28ms (Views: 24.3ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 16:38:26 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97di11EZvpuRyq"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (27.9ms)
  Rendered payment_profiles/_credit_card.html.erb (5.3ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (62.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 742ms (Views: 85.6ms | ActiveRecord: 2.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.8ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:42:06 UTC], ["updated_at", 2016-09-02 20:42:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$SWLw/96h3uJ5Nl/Bi1r1DedihOjMcuUO3Ak3pYs6TE8zx4TwQ3iwG"], ["confirmed_at", 2016-09-02 20:42:05 UTC], ["created_at", 2016-09-02 20:42:07 UTC], ["updated_at", 2016-09-02 20:42:07 UTC], ["stripe_customer_id", "cus_97dlyWHfYiHZdp"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:42:07 UTC], ["updated_at", 2016-09-02 20:42:07 UTC]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dlYj1oP9LiLH"], ["created_at", 2016-09-02 20:42:08 UTC], ["updated_at", 2016-09-02 20:42:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:42:08 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:42:08 UTC], ["last_sign_in_at", 2016-09-02 20:42:08 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:42:08 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (963.1ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 1396ms (Views: 1389.4ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:42:09 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:42:10 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:42:10 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 29.9ms | ActiveRecord: 0.5ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:42:10 UTC], ["updated_at", 2016-09-02 20:42:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$QlB3jhTllnbV8uXbH8q0vuVe0H8jCLSq4pwF9K/LRindws44duVfu"], ["confirmed_at", 2016-09-02 20:42:05 UTC], ["created_at", 2016-09-02 20:42:10 UTC], ["updated_at", 2016-09-02 20:42:10 UTC], ["stripe_customer_id", "cus_97dlEm8MtdJh3R"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:42:10 UTC], ["updated_at", 2016-09-02 20:42:10 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.7ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dlxEBEzhsQ9c"], ["created_at", 2016-09-02 20:42:11 UTC], ["updated_at", 2016-09-02 20:42:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:42:11 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:42:11 UTC], ["last_sign_in_at", 2016-09-02 20:42:11 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:42:11 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 33ms (Views: 26.5ms | ActiveRecord: 0.2ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 16:42:11 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.6ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97dlxEBEzhsQ9c"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (9.4ms)
  Rendered payment_profiles/_credit_card.html.erb (4.3ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (23.4ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 623ms (Views: 43.3ms | ActiveRecord: 2.4ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 16:42:12 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (8.0ms)
  Rendered payment_profiles/_credit_card.html.erb (3.3ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (21.6ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 1237ms (Views: 45.1ms | ActiveRecord: 1.0ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (5.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:46:18 UTC], ["updated_at", 2016-09-02 20:46:18 UTC]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$Jc16wUZ.4iHbDaOKCsQh8OQX3CE.yPTQwl1YV1ChuLBpZWIrbEGx."], ["confirmed_at", 2016-09-02 20:46:17 UTC], ["created_at", 2016-09-02 20:46:19 UTC], ["updated_at", 2016-09-02 20:46:19 UTC], ["stripe_customer_id", "cus_97dpt4yhW4e144"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:46:19 UTC], ["updated_at", 2016-09-02 20:46:19 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dpaDIyG5xeWq"], ["created_at", 2016-09-02 20:46:19 UTC], ["updated_at", 2016-09-02 20:46:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:46:19 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:46:19 UTC], ["last_sign_in_at", 2016-09-02 20:46:19 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:46:19 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1022.2ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (3.9ms)
Completed 200 OK in 1714ms (Views: 1710.0ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:46:21 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:46:21 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.6ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 1.4ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:46:21 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 38ms (Views: 33.9ms | ActiveRecord: 0.5ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:46:21 UTC], ["updated_at", 2016-09-02 20:46:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (51.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (4.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$sBZNKnbzTIHxJbk2kCo.UOzPb32Pjhogj8q0vZZ8Hk9FJbFYG0we2"], ["confirmed_at", 2016-09-02 20:46:17 UTC], ["created_at", 2016-09-02 20:46:22 UTC], ["updated_at", 2016-09-02 20:46:22 UTC], ["stripe_customer_id", "cus_97dqX3gvUJBN1u"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:46:22 UTC], ["updated_at", 2016-09-02 20:46:22 UTC]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dqKAW7uXOyrV"], ["created_at", 2016-09-02 20:46:23 UTC], ["updated_at", 2016-09-02 20:46:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:46:23 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:46:23 UTC], ["last_sign_in_at", 2016-09-02 20:46:23 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:46:23 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_flash_messages.html.erb (1.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 16:46:23 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97dqKAW7uXOyrV"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (14.6ms)
  Rendered payment_profiles/_credit_card.html.erb (7.1ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (33.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_flash_messages.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 652ms (Views: 58.2ms | ActiveRecord: 2.1ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 16:46:23 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (12.3ms)
  Rendered payment_profiles/_credit_card.html.erb (6.4ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (36.0ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_flash_messages.html.erb (1.7ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 121361ms (Views: 67.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (3.0ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:48:32 UTC], ["updated_at", 2016-09-02 20:48:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$E736bn4kh50x14Y.3/2tqOftTBBKJo/LJm.sHgIgmc1n4RehucN5G"], ["confirmed_at", 2016-09-02 20:48:31 UTC], ["created_at", 2016-09-02 20:48:34 UTC], ["updated_at", 2016-09-02 20:48:34 UTC], ["stripe_customer_id", "cus_97dsbgkHnGsHYF"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.4ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:48:34 UTC], ["updated_at", 2016-09-02 20:48:34 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.4ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97ds5sttEqXhe5"], ["created_at", 2016-09-02 20:48:34 UTC], ["updated_at", 2016-09-02 20:48:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:48:34 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:48:34 UTC], ["last_sign_in_at", 2016-09-02 20:48:34 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:48:34 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1041.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1503ms (Views: 1495.9ms | ActiveRecord: 0.3ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 16:48:36 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 20:48:36 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 1.6ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:48:36 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (11.5ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 40ms (Views: 34.7ms | ActiveRecord: 1.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (11.3ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 20:48:36 UTC], ["updated_at", 2016-09-02 20:48:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$lKHYR.sBJQyihoD2H0QY4OLcbGxV.L1JrXz3nS70kA6u6AqodQ8zq"], ["confirmed_at", 2016-09-02 20:48:31 UTC], ["created_at", 2016-09-02 20:48:38 UTC], ["updated_at", 2016-09-02 20:48:38 UTC], ["stripe_customer_id", "cus_97dsjOTK3LI3QY"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 20:48:38 UTC], ["updated_at", 2016-09-02 20:48:38 UTC]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97dsvvrgGnSphd"], ["created_at", 2016-09-02 20:48:38 UTC], ["updated_at", 2016-09-02 20:48:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 16:48:38 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 20:48:38 UTC], ["last_sign_in_at", 2016-09-02 20:48:38 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 20:48:38 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (1.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (6.8ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 35ms (Views: 31.2ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 16:48:38 -0400
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:12:39 UTC], ["updated_at", 2016-09-02 21:12:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$6GyqKFftv3BxCbvLj0dekOawRGITYsfK1NSdQdoS2rj7dXnfjlCV6"], ["confirmed_at", 2016-09-02 21:12:37 UTC], ["created_at", 2016-09-02 21:12:40 UTC], ["updated_at", 2016-09-02 21:12:40 UTC], ["stripe_customer_id", "cus_97eG7bWNKTtJWi"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:12:40 UTC], ["updated_at", 2016-09-02 21:12:40 UTC]]
  [1m[36mSubscription Load (0.5ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (1.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97eGBoxSyafHWG"], ["created_at", 2016-09-02 21:12:41 UTC], ["updated_at", 2016-09-02 21:12:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:12:41 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:12:41 UTC], ["last_sign_in_at", 2016-09-02 21:12:41 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:12:41 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1508.9ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 2870ms (Views: 2836.9ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 17:12:44 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 21:12:44 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 21ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:12:44 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 33ms (Views: 28.9ms | ActiveRecord: 0.4ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:12:44 UTC], ["updated_at", 2016-09-02 21:12:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$o7zIgtTt023mB6g2rKrOzefIgbIvD1HfCsB8cImI8Z8l4x6XrdG0."], ["confirmed_at", 2016-09-02 21:12:37 UTC], ["created_at", 2016-09-02 21:12:46 UTC], ["updated_at", 2016-09-02 21:12:46 UTC], ["stripe_customer_id", "cus_97eGreBUidoc59"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:12:46 UTC], ["updated_at", 2016-09-02 21:12:46 UTC]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97eGgQVk0PnQcG"], ["created_at", 2016-09-02 21:12:47 UTC], ["updated_at", 2016-09-02 21:12:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:12:47 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:12:47 UTC], ["last_sign_in_at", 2016-09-02 21:12:47 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:12:47 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 28ms (Views: 24.1ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 17:12:47 -0400
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (10.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (30.1ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (4.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (5.5ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (2.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:13:20 UTC], ["updated_at", 2016-09-02 21:13:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$6XgiP3Pucby.Vs2d/NrpKer6TcNjz9QM/rhUo4KqIvcfw3QGJKSam"], ["confirmed_at", 2016-09-02 21:13:19 UTC], ["created_at", 2016-09-02 21:13:22 UTC], ["updated_at", 2016-09-02 21:13:22 UTC], ["stripe_customer_id", "cus_97eHpU11cFGdsk"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:13:22 UTC], ["updated_at", 2016-09-02 21:13:22 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97eHRKXMP2Zc3S"], ["created_at", 2016-09-02 21:13:22 UTC], ["updated_at", 2016-09-02 21:13:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:13:22 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:13:22 UTC], ["last_sign_in_at", 2016-09-02 21:13:22 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:13:22 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1075.9ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_flash_messages.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1709ms (Views: 1699.2ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 17:13:24 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 21:13:24 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 17ms (ActiveRecord: 1.1ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:13:24 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 95ms (Views: 90.6ms | ActiveRecord: 0.5ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (10.8ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:13:24 UTC], ["updated_at", 2016-09-02 21:13:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$QSM2rGR3J4CqVPS56DoWW.KiC4xlgpIbBskvL3jK1kp6n4OMQmvxW"], ["confirmed_at", 2016-09-02 21:13:19 UTC], ["created_at", 2016-09-02 21:13:25 UTC], ["updated_at", 2016-09-02 21:13:25 UTC], ["stripe_customer_id", "cus_97eHNTp2i0FxYg"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:13:25 UTC], ["updated_at", 2016-09-02 21:13:25 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97eHsc5GcyoUTn"], ["created_at", 2016-09-02 21:13:26 UTC], ["updated_at", 2016-09-02 21:13:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:13:26 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:13:26 UTC], ["last_sign_in_at", 2016-09-02 21:13:26 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:13:26 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 17:13:26 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97eHsc5GcyoUTn"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (47.7ms)
  Rendered payment_profiles/_credit_card.html.erb (3.7ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (84.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 789ms (Views: 102.3ms | ActiveRecord: 1.9ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 17:13:26 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.4ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (6.7ms)
  Rendered payment_profiles/_credit_card.html.erb (6.2ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (25.3ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 100199ms (Views: 45.9ms | ActiveRecord: 1.4ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:15:22 UTC], ["updated_at", 2016-09-02 21:15:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$Qaew6ndxxhmcUtdE43Q95.dLufs/2BFkae7H7oeLD85ulJafOdk0K"], ["confirmed_at", 2016-09-02 21:15:21 UTC], ["created_at", 2016-09-02 21:15:23 UTC], ["updated_at", 2016-09-02 21:15:23 UTC], ["stripe_customer_id", "cus_97eJ4a3HyXVwIA"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:15:23 UTC], ["updated_at", 2016-09-02 21:15:23 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97eJgbLBqiWxe4"], ["created_at", 2016-09-02 21:15:23 UTC], ["updated_at", 2016-09-02 21:15:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:15:23 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:15:23 UTC], ["last_sign_in_at", 2016-09-02 21:15:23 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:15:23 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1021.3ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_flash_messages.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1551ms (Views: 1543.1ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 17:15:25 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 21:15:25 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:15:25 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 39ms (Views: 33.5ms | ActiveRecord: 1.3ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:15:25 UTC], ["updated_at", 2016-09-02 21:15:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$nPMi9fZ5MO84PC/jCbznmOpWAxt7t0utKcN0JEfzz3o.haUa3/nIq"], ["confirmed_at", 2016-09-02 21:15:21 UTC], ["created_at", 2016-09-02 21:15:26 UTC], ["updated_at", 2016-09-02 21:15:26 UTC], ["stripe_customer_id", "cus_97eJi9sRB5wYBE"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:15:26 UTC], ["updated_at", 2016-09-02 21:15:26 UTC]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97eJ6eyEcNKa6S"], ["created_at", 2016-09-02 21:15:26 UTC], ["updated_at", 2016-09-02 21:15:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:15:26 -0400
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:15:26 UTC], ["last_sign_in_at", 2016-09-02 21:15:26 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:15:26 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_flash_messages.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 63ms (Views: 51.0ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 17:15:27 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (1.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97eJ6eyEcNKa6S"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (11.5ms)
  Rendered payment_profiles/_credit_card.html.erb (7.8ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (30.5ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 638ms (Views: 53.3ms | ActiveRecord: 2.9ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 17:15:27 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (12.7ms)
  Rendered payment_profiles/_credit_card.html.erb (6.4ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (38.0ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_flash_messages.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 83866ms (Views: 66.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (2.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:16:59 UTC], ["updated_at", 2016-09-02 21:16:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.6ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$tDwip7xcvMHUf9DkAFgTp.XFlhuCXrMzq.NLMPoPszUZsaWse8iEy"], ["confirmed_at", 2016-09-02 21:16:58 UTC], ["created_at", 2016-09-02 21:17:00 UTC], ["updated_at", 2016-09-02 21:17:00 UTC], ["stripe_customer_id", "cus_97eKNfABCch0P3"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:17:00 UTC], ["updated_at", 2016-09-02 21:17:00 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.7ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97eKp860GCrpoU"], ["created_at", 2016-09-02 21:17:00 UTC], ["updated_at", 2016-09-02 21:17:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:17:00 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:17:00 UTC], ["last_sign_in_at", 2016-09-02 21:17:00 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:17:00 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (956.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1412ms (Views: 1405.3ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 17:17:02 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 21:17:02 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:17:02 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (14.7ms)
  Rendered layouts/_footer.html.erb (1.7ms)
Completed 200 OK in 77ms (Views: 73.1ms | ActiveRecord: 0.4ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:17:02 UTC], ["updated_at", 2016-09-02 21:17:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$ceOvQluRGlmXbmKF0WigaeYMVrrG2Q1X3pCtNt6cPCN4OOsczFQWq"], ["confirmed_at", 2016-09-02 21:16:58 UTC], ["created_at", 2016-09-02 21:17:03 UTC], ["updated_at", 2016-09-02 21:17:03 UTC], ["stripe_customer_id", "cus_97eK6b0UNsaMlA"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:17:03 UTC], ["updated_at", 2016-09-02 21:17:03 UTC]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97eKgaN9AmRR0r"], ["created_at", 2016-09-02 21:17:03 UTC], ["updated_at", 2016-09-02 21:17:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:17:03 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:17:03 UTC], ["last_sign_in_at", 2016-09-02 21:17:03 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:17:03 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (1.9ms)
Completed 200 OK in 39ms (Views: 31.2ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 17:17:03 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97eKgaN9AmRR0r"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (9.0ms)
  Rendered payment_profiles/_credit_card.html.erb (3.8ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (24.8ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 652ms (Views: 43.5ms | ActiveRecord: 1.9ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 17:17:04 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (9.1ms)
  Rendered payment_profiles/_credit_card.html.erb (6.2ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (50.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.8ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 923770ms (Views: 154.2ms | ActiveRecord: 1.3ms)
  [1m[35m (15.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (4.8ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (4.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (3.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:37:46 UTC], ["updated_at", 2016-09-02 21:37:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$.irW13QkC9WEiVR/qTOblusf7iw8zbG/p7VXP/8/QsJ/d6/dyZhGC"], ["confirmed_at", 2016-09-02 21:37:43 UTC], ["created_at", 2016-09-02 21:37:49 UTC], ["updated_at", 2016-09-02 21:37:49 UTC], ["stripe_customer_id", "cus_97ef7pLI3tA1yH"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (6.4ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:37:49 UTC], ["updated_at", 2016-09-02 21:37:49 UTC]]
  [1m[36mSubscription Load (2.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97efrVMxBlMpZ4"], ["created_at", 2016-09-02 21:37:50 UTC], ["updated_at", 2016-09-02 21:37:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:37:50 -0400
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:37:50 UTC], ["last_sign_in_at", 2016-09-02 21:37:50 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:37:50 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1993.7ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 2759ms (Views: 2753.3ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 17:37:53 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 21:37:53 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 16ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:37:53 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (11.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 59ms (Views: 35.3ms | ActiveRecord: 0.5ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 21:37:53 UTC], ["updated_at", 2016-09-02 21:37:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$fYdiBRRDjRcaOoaAXOWRROKyLTRXVdzExw2WbqfXGhJP9TCDAShrW"], ["confirmed_at", 2016-09-02 21:37:43 UTC], ["created_at", 2016-09-02 21:37:54 UTC], ["updated_at", 2016-09-02 21:37:54 UTC], ["stripe_customer_id", "cus_97efQe1GACoMag"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 21:37:54 UTC], ["updated_at", 2016-09-02 21:37:54 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97efjF1PYlAoim"], ["created_at", 2016-09-02 21:37:54 UTC], ["updated_at", 2016-09-02 21:37:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 17:37:54 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 21:37:54 UTC], ["last_sign_in_at", 2016-09-02 21:37:54 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 21:37:54 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 17:37:54 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97efjF1PYlAoim"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (43.5ms)
  Rendered payment_profiles/_credit_card.html.erb (4.3ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (56.8ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 692ms (Views: 75.9ms | ActiveRecord: 1.9ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 17:39:06 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (5.8ms)
  Rendered payment_profiles/_credit_card.html.erb (5.1ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (23.9ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_flash_messages.html.erb (1.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 9584ms (Views: 49.2ms | ActiveRecord: 1.0ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (4.9ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:03:02 UTC], ["updated_at", 2016-09-02 22:03:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (8.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$nMLBlmvwa86umx6elZsiyOiowskrUzcdctU6hX9YL.HZbIxRyUzG2"], ["confirmed_at", 2016-09-02 22:02:58 UTC], ["created_at", 2016-09-02 22:03:04 UTC], ["updated_at", 2016-09-02 22:03:04 UTC], ["stripe_customer_id", "cus_97f46P2sksFiAZ"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:03:04 UTC], ["updated_at", 2016-09-02 22:03:04 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97f48W30cBIUKW"], ["created_at", 2016-09-02 22:03:05 UTC], ["updated_at", 2016-09-02 22:03:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:03:05 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:03:05 UTC], ["last_sign_in_at", 2016-09-02 22:03:05 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:03:05 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1352.2ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 2670ms (Views: 2636.4ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 18:03:07 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 22:03:07 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:03:07 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_flash_messages.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 41ms (Views: 32.0ms | ActiveRecord: 0.4ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:03:08 UTC], ["updated_at", 2016-09-02 22:03:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$pOdskc4KUykr/Vq6nRvx2.EIGIMYTn0P8VEkcu/IBT52Zc.kkokxW"], ["confirmed_at", 2016-09-02 22:02:58 UTC], ["created_at", 2016-09-02 22:03:08 UTC], ["updated_at", 2016-09-02 22:03:08 UTC], ["stripe_customer_id", "cus_97f4ypWQWXuSKo"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:03:08 UTC], ["updated_at", 2016-09-02 22:03:08 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97f4hKsKnTAzAf"], ["created_at", 2016-09-02 22:03:09 UTC], ["updated_at", 2016-09-02 22:03:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:03:09 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:03:09 UTC], ["last_sign_in_at", 2016-09-02 22:03:09 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:03:09 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 18:03:09 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97f4hKsKnTAzAf"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (25.4ms)
  Rendered payment_profiles/_credit_card.html.erb (4.1ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (70.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 718ms (Views: 91.0ms | ActiveRecord: 1.8ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:03:15 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: utf8, id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (7.5ms)
  Rendered payment_profiles/_credit_card.html.erb (5.9ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (31.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 113980ms (Views: 54.6ms | ActiveRecord: 1.1ms)
  [1m[35m (10.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:05:41 UTC], ["updated_at", 2016-09-02 22:05:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (5.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$bWBNE36Npi3IYuu5NloV2Ot8ZC3wMIVmxhub4LNYpugNI1ijNB6zy"], ["confirmed_at", 2016-09-02 22:05:39 UTC], ["created_at", 2016-09-02 22:05:43 UTC], ["updated_at", 2016-09-02 22:05:43 UTC], ["stripe_customer_id", "cus_97f7UgkFZSAHUg"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:05:43 UTC], ["updated_at", 2016-09-02 22:05:43 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97f7No7LTgXnRy"], ["created_at", 2016-09-02 22:05:43 UTC], ["updated_at", 2016-09-02 22:05:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:05:44 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:05:44 UTC], ["last_sign_in_at", 2016-09-02 22:05:44 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:05:44 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1061.0ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 2237ms (Views: 2230.9ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 18:05:46 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 22:05:46 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:05:46 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 23.8ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (15.7ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:05:46 UTC], ["updated_at", 2016-09-02 22:05:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$HL0MdEkzbW/ChLD6KbeHmuCR8sjWoxC6FerdpgKz0jDRGHpqvNLgG"], ["confirmed_at", 2016-09-02 22:05:39 UTC], ["created_at", 2016-09-02 22:05:47 UTC], ["updated_at", 2016-09-02 22:05:47 UTC], ["stripe_customer_id", "cus_97f7nmzcrMi6U2"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:05:47 UTC], ["updated_at", 2016-09-02 22:05:47 UTC]]
  [1m[36mSubscription Load (0.8ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97f71w7djZ2J2u"], ["created_at", 2016-09-02 22:05:47 UTC], ["updated_at", 2016-09-02 22:05:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:05:47 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:05:47 UTC], ["last_sign_in_at", 2016-09-02 22:05:47 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:05:47 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 32ms (Views: 28.7ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 18:05:47 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97f71w7djZ2J2u"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (230.4ms)
  Rendered payment_profiles/_credit_card.html.erb (7.7ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (414.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_flash_messages.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1181ms (Views: 526.0ms | ActiveRecord: 2.2ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:05:49 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: utf8, id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.4ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (9.5ms)
  Rendered payment_profiles/_credit_card.html.erb (4.2ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (48.3ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_flash_messages.html.erb (1.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 726992ms (Views: 162.8ms | ActiveRecord: 1.4ms)
  [1m[35m (10.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:22:29 UTC], ["updated_at", 2016-09-02 22:22:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (5.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$fFHjy0Eo6dMUJEYsD/S2NObFkixYYbQP4mbujL2jtafYNcWhZ7kZO"], ["confirmed_at", 2016-09-02 22:22:27 UTC], ["created_at", 2016-09-02 22:22:31 UTC], ["updated_at", 2016-09-02 22:22:31 UTC], ["stripe_customer_id", "cus_97fOGQfquTMgjT"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:22:31 UTC], ["updated_at", 2016-09-02 22:22:31 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.4ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fO4FUiwKeKzQ"], ["created_at", 2016-09-02 22:22:31 UTC], ["updated_at", 2016-09-02 22:22:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:22:31 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:22:31 UTC], ["last_sign_in_at", 2016-09-02 22:22:31 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:22:31 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (1098.3ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_flash_messages.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (1.5ms)
Completed 200 OK in 2029ms (Views: 2003.3ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 18:22:34 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 22:22:34 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:22:34 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (7.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 28ms (Views: 24.5ms | ActiveRecord: 0.4ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:22:34 UTC], ["updated_at", 2016-09-02 22:22:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$K5K0LmqqJp4dPRhe.H0vLOYBjwiPISKME.cktkFb8g/gimC47Fj.K"], ["confirmed_at", 2016-09-02 22:22:27 UTC], ["created_at", 2016-09-02 22:22:34 UTC], ["updated_at", 2016-09-02 22:22:34 UTC], ["stripe_customer_id", "cus_97fOy7gYsR7HQI"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:22:34 UTC], ["updated_at", 2016-09-02 22:22:34 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (26.0ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fOg1TzmzeHYo"], ["created_at", 2016-09-02 22:22:35 UTC], ["updated_at", 2016-09-02 22:22:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:22:35 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:22:35 UTC], ["last_sign_in_at", 2016-09-02 22:22:35 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:22:35 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 28ms (Views: 25.3ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 18:22:35 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97fOg1TzmzeHYo"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.4ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (25.3ms)
  Rendered payment_profiles/_credit_card.html.erb (3.8ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (72.0ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 756ms (Views: 95.1ms | ActiveRecord: 2.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.9ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:24:38 UTC], ["updated_at", 2016-09-02 22:24:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$YDlh.MMyU.IG2UKbmsniquUVoxoqZBi/t5/HVZFeogQ.TzxuQF8pa"], ["confirmed_at", 2016-09-02 22:24:37 UTC], ["created_at", 2016-09-02 22:24:40 UTC], ["updated_at", 2016-09-02 22:24:40 UTC], ["stripe_customer_id", "cus_97fQlKjGsib3CO"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:24:40 UTC], ["updated_at", 2016-09-02 22:24:40 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fQh7ZVCnHcM0"], ["created_at", 2016-09-02 22:24:41 UTC], ["updated_at", 2016-09-02 22:24:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:24:41 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:24:41 UTC], ["last_sign_in_at", 2016-09-02 22:24:41 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:24:41 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (800.4ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1165ms (Views: 1159.8ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 18:24:42 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 22:24:42 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:24:42 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 31ms (Views: 26.8ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:24:42 UTC], ["updated_at", 2016-09-02 22:24:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$fJt0GqPCCTfuAj64CtBFv.R8TY.fPXMYhnhcnHVVB/CimNqWycpha"], ["confirmed_at", 2016-09-02 22:24:37 UTC], ["created_at", 2016-09-02 22:24:42 UTC], ["updated_at", 2016-09-02 22:24:42 UTC], ["stripe_customer_id", "cus_97fQW4zCxVEErk"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:24:42 UTC], ["updated_at", 2016-09-02 22:24:42 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fQmwqrk563GN"], ["created_at", 2016-09-02 22:24:43 UTC], ["updated_at", 2016-09-02 22:24:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:24:43 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:24:43 UTC], ["last_sign_in_at", 2016-09-02 22:24:43 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:24:43 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 50ms (Views: 46.9ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 18:24:43 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97fQmwqrk563GN"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (8.5ms)
  Rendered payment_profiles/_credit_card.html.erb (3.4ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (19.4ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 623ms (Views: 35.6ms | ActiveRecord: 2.0ms)
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:24:44 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"utf8"=>"âœ“", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: utf8, id
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (6.4ms)
  Rendered payment_profiles/_credit_card.html.erb (3.4ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (21.1ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 9529ms (Views: 43.5ms | ActiveRecord: 1.0ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (11.5ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (3.8ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (4.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:28:54 UTC], ["updated_at", 2016-09-02 22:28:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$rLe7OlYuh.K94MTd7OgRCeF/OB6/1imhxHxw.1EdBEnBiUyxCKnoK"], ["confirmed_at", 2016-09-02 22:28:53 UTC], ["created_at", 2016-09-02 22:28:55 UTC], ["updated_at", 2016-09-02 22:28:55 UTC], ["stripe_customer_id", "cus_97fUzDQM4mu55V"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:28:55 UTC], ["updated_at", 2016-09-02 22:28:55 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fUfy7R2S3ILk"], ["created_at", 2016-09-02 22:28:56 UTC], ["updated_at", 2016-09-02 22:28:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:28:56 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:28:56 UTC], ["last_sign_in_at", 2016-09-02 22:28:56 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:28:56 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (971.2ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1436ms (Views: 1431.4ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 18:28:57 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 22:28:57 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.4ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 1.3ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:28:57 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 36ms (Views: 28.2ms | ActiveRecord: 0.5ms)
  [1m[35m (33.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:28:57 UTC], ["updated_at", 2016-09-02 22:28:57 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$V1Oo3QqZmteP3tycyghQMu3kooiCc0eVA.MA5VlUWyLf.wESPbu8i"], ["confirmed_at", 2016-09-02 22:28:53 UTC], ["created_at", 2016-09-02 22:28:59 UTC], ["updated_at", 2016-09-02 22:28:59 UTC], ["stripe_customer_id", "cus_97fUvoeNZjCPPW"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:28:59 UTC], ["updated_at", 2016-09-02 22:28:59 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fUsiLv36x91K"], ["created_at", 2016-09-02 22:28:59 UTC], ["updated_at", 2016-09-02 22:28:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:28:59 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:28:59 UTC], ["last_sign_in_at", 2016-09-02 22:28:59 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:28:59 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_flash_messages.html.erb (0.7ms)
  Rendered layouts/_footer.html.erb (1.5ms)
Completed 200 OK in 30ms (Views: 26.7ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 18:28:59 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97fUsiLv36x91K"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (9.5ms)
  Rendered payment_profiles/_credit_card.html.erb (11.0ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (31.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (0.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 620ms (Views: 54.3ms | ActiveRecord: 1.7ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (4.1ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:30:33 UTC], ["updated_at", 2016-09-02 22:30:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$uOG8wcBliFMaKF.J44A/j./Q6CMycpPUFBOpOD1oVQq1WSSjiMnxu"], ["confirmed_at", 2016-09-02 22:30:32 UTC], ["created_at", 2016-09-02 22:30:35 UTC], ["updated_at", 2016-09-02 22:30:35 UTC], ["stripe_customer_id", "cus_97fWzmOUPgcwvh"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:30:35 UTC], ["updated_at", 2016-09-02 22:30:35 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fWBH8LAjjtfl"], ["created_at", 2016-09-02 22:30:36 UTC], ["updated_at", 2016-09-02 22:30:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:30:36 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:30:36 UTC], ["last_sign_in_at", 2016-09-02 22:30:36 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:30:36 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (976.1ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 1417ms (Views: 1412.6ms | ActiveRecord: 0.1ms)
Started PATCH "/users/1" for 127.0.0.1 at 2016-09-02 18:30:37 -0400
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "user"=>{"email"=>"john@example.com", "username"=>"asdfasdf", "first_name"=>"John", "last_name"=>"Doe"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "asdfasdf"], ["updated_at", 2016-09-02 22:30:37 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 1.3ms)
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:30:37 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (12.4ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 43ms (Views: 38.9ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:30:37 UTC], ["updated_at", 2016-09-02 22:30:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$LfQD3Y.kYFjELS53gzqjuOA/xkBCn26uVtsubn43bgHNHkQo2uheW"], ["confirmed_at", 2016-09-02 22:30:32 UTC], ["created_at", 2016-09-02 22:30:38 UTC], ["updated_at", 2016-09-02 22:30:38 UTC], ["stripe_customer_id", "cus_97fWLBarH2o0Bw"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:30:38 UTC], ["updated_at", 2016-09-02 22:30:38 UTC]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fWnlfOYINqhs"], ["created_at", 2016-09-02 22:30:39 UTC], ["updated_at", 2016-09-02 22:30:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started GET "/users/1" for 127.0.0.1 at 2016-09-02 18:30:39 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:30:39 UTC], ["last_sign_in_at", 2016-09-02 22:30:39 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:30:39 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 31ms (Views: 28.2ms | ActiveRecord: 0.1ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 18:30:39 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97fWnlfOYINqhs"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.6ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (9.8ms)
  Rendered payment_profiles/_credit_card.html.erb (4.5ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (23.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 619ms (Views: 43.9ms | ActiveRecord: 2.3ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:41:37 UTC], ["updated_at", 2016-09-02 22:41:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$vYx5n2t2351WhSnujh3/seLBMY.bBPX9sSZohE8TPXUhHXvj5R.lW"], ["confirmed_at", 2016-09-02 22:41:36 UTC], ["created_at", 2016-09-02 22:41:39 UTC], ["updated_at", 2016-09-02 22:41:39 UTC], ["stripe_customer_id", "cus_97fh6yTQgkCoix"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:41:39 UTC], ["updated_at", 2016-09-02 22:41:39 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fhR4MeG8LII8"], ["created_at", 2016-09-02 22:41:40 UTC], ["updated_at", 2016-09-02 22:41:40 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (5.0ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (8.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:42:25 UTC], ["updated_at", 2016-09-02 22:42:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (1.7ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$t6gof9WEK5WIQC7Xiy6Q..B8YXGuSpvq/MVpL6dctElAS7bsZ6bUK"], ["confirmed_at", 2016-09-02 22:42:24 UTC], ["created_at", 2016-09-02 22:42:27 UTC], ["updated_at", 2016-09-02 22:42:27 UTC], ["stripe_customer_id", "cus_97fiQnkKrva1Od"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.8ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:42:27 UTC], ["updated_at", 2016-09-02 22:42:27 UTC]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fizlEZaFzRQn"], ["created_at", 2016-09-02 22:42:27 UTC], ["updated_at", 2016-09-02 22:42:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.4ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (11.0ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:43:53 UTC], ["updated_at", 2016-09-02 22:43:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$p9A8GVxHQo5QxeLRzgLYZOeGfZ2NYit1xI0YJMlCJWFdhMJ1Jjppi"], ["confirmed_at", 2016-09-02 22:43:51 UTC], ["created_at", 2016-09-02 22:43:55 UTC], ["updated_at", 2016-09-02 22:43:55 UTC], ["stripe_customer_id", "cus_97fjdHRZMyC2AA"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (1.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:43:55 UTC], ["updated_at", 2016-09-02 22:43:55 UTC]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fjmRzpya3rSJ"], ["created_at", 2016-09-02 22:43:56 UTC], ["updated_at", 2016-09-02 22:43:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (6.8ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (5.5ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:45:06 UTC], ["updated_at", 2016-09-02 22:45:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$pTjOtfz0hqVYPtJvm8g0Jesfxr.Kp2yfGj3szkAJoiLwfPzAFwy3S"], ["confirmed_at", 2016-09-02 22:45:05 UTC], ["created_at", 2016-09-02 22:45:07 UTC], ["updated_at", 2016-09-02 22:45:07 UTC], ["stripe_customer_id", "cus_97fk5TzoWpyunX"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:45:08 UTC], ["updated_at", 2016-09-02 22:45:08 UTC]]
  [1m[36mSubscription Load (0.4ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fkqFldZZuBNZ"], ["created_at", 2016-09-02 22:45:08 UTC], ["updated_at", 2016-09-02 22:45:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (5.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:47:40 UTC], ["updated_at", 2016-09-02 22:47:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$YRZkV8S/Vn5kzdc.3rQNzeyLObdv.2tlrKbDPVj.RKwb6Ee.c3NCC"], ["confirmed_at", 2016-09-02 22:47:39 UTC], ["created_at", 2016-09-02 22:47:41 UTC], ["updated_at", 2016-09-02 22:47:41 UTC], ["stripe_customer_id", "cus_97fnfWqCKBsxkf"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:47:41 UTC], ["updated_at", 2016-09-02 22:47:41 UTC]]
  [1m[36mSubscription Load (0.5ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fnMLDvJIDhx8"], ["created_at", 2016-09-02 22:47:42 UTC], ["updated_at", 2016-09-02 22:47:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:47:42 -0400
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQRmBProJYO6FDBxEUicU6", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 39282ms (ActiveRecord: 0.3ms)
  [1m[35m (43.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (4.1ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (4.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:49:25 UTC], ["updated_at", 2016-09-02 22:49:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$YJXgYWy7DjPrVxut26upMOGSCHCIebz2CTnn5CNdPe9vlJmGwJiEi"], ["confirmed_at", 2016-09-02 22:49:24 UTC], ["created_at", 2016-09-02 22:49:27 UTC], ["updated_at", 2016-09-02 22:49:27 UTC], ["stripe_customer_id", "cus_97fpzoBxH1Begx"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:49:27 UTC], ["updated_at", 2016-09-02 22:49:27 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (10.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fpIaj7Hbibwf"], ["created_at", 2016-09-02 22:49:28 UTC], ["updated_at", 2016-09-02 22:49:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:49:29 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:49:29 UTC], ["last_sign_in_at", 2016-09-02 22:49:29 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:49:29 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.3ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQTUBProJYO6FD68TqDccr", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 30924ms (ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:52:17 UTC], ["updated_at", 2016-09-02 22:52:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$Il/fusVzcm4USQb.62bVqeCZezwDGrLWvKU.i5QArMLAFbM9NEGJK"], ["confirmed_at", 2016-09-02 22:52:14 UTC], ["created_at", 2016-09-02 22:52:19 UTC], ["updated_at", 2016-09-02 22:52:19 UTC], ["stripe_customer_id", "cus_97frgR0heGbscJ"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:52:19 UTC], ["updated_at", 2016-09-02 22:52:19 UTC]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97frvVXlUuFFM4"], ["created_at", 2016-09-02 22:52:19 UTC], ["updated_at", 2016-09-02 22:52:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:52:20 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:52:20 UTC], ["last_sign_in_at", 2016-09-02 22:52:20 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:52:20 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQWGBProJYO6FD0Gxqy1wY", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.4ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 41003ms (ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.9ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (2.8ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:55:28 UTC], ["updated_at", 2016-09-02 22:55:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$fxlit5FxbAlTKinppdmmJ.5S.0De/X/a0Lr2SBqLJOs3sQ928qoL2"], ["confirmed_at", 2016-09-02 22:55:27 UTC], ["created_at", 2016-09-02 22:55:29 UTC], ["updated_at", 2016-09-02 22:55:29 UTC], ["stripe_customer_id", "cus_97fvhConJnAnhw"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:55:29 UTC], ["updated_at", 2016-09-02 22:55:29 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.3ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fvHt1i8TVaXK"], ["created_at", 2016-09-02 22:55:30 UTC], ["updated_at", 2016-09-02 22:55:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:55:31 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:55:31 UTC], ["last_sign_in_at", 2016-09-02 22:55:31 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:55:31 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQZKBProJYO6FDMgjgs77v", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 1878ms (ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.3ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (3.3ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:56:26 UTC], ["updated_at", 2016-09-02 22:56:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$x2q9U4lTQIa7qaAcb8/VguaOajXa0tBpM5cME5ZTAxDpbwqEnSHeq"], ["confirmed_at", 2016-09-02 22:56:25 UTC], ["created_at", 2016-09-02 22:56:27 UTC], ["updated_at", 2016-09-02 22:56:27 UTC], ["stripe_customer_id", "cus_97fwa2vqnz65AR"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:56:27 UTC], ["updated_at", 2016-09-02 22:56:27 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fwcijt8qHGAA"], ["created_at", 2016-09-02 22:56:28 UTC], ["updated_at", 2016-09-02 22:56:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:56:28 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:56:28 UTC], ["last_sign_in_at", 2016-09-02 22:56:28 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:56:28 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQaGBProJYO6FDmVBI7xq6", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 2275ms (ActiveRecord: 0.2ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.9ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.0ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:57:14 UTC], ["updated_at", 2016-09-02 22:57:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.4ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$7nHBPx2RSvZ5kArD5Sp/7uGxgLDI6YJshVvkkX6FdEEhgJs/GJW.."], ["confirmed_at", 2016-09-02 22:57:13 UTC], ["created_at", 2016-09-02 22:57:15 UTC], ["updated_at", 2016-09-02 22:57:15 UTC], ["stripe_customer_id", "cus_97fwILOwNH3HTt"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:57:15 UTC], ["updated_at", 2016-09-02 22:57:15 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fwoDF3t0XLk5"], ["created_at", 2016-09-02 22:57:16 UTC], ["updated_at", 2016-09-02 22:57:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:57:17 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:57:17 UTC], ["last_sign_in_at", 2016-09-02 22:57:17 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:57:17 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQb3BProJYO6FDaab2sWhD", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 2367ms (ActiveRecord: 0.2ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.3ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 22:57:58 UTC], ["updated_at", 2016-09-02 22:57:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$SnaWaqwzpgobMFJk83Nn2uAjd104ohgmCA443a02TUXCJx3/BXzY2"], ["confirmed_at", 2016-09-02 22:57:57 UTC], ["created_at", 2016-09-02 22:57:59 UTC], ["updated_at", 2016-09-02 22:57:59 UTC], ["stripe_customer_id", "cus_97fx4OLBH3fMuf"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.5ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 22:57:59 UTC], ["updated_at", 2016-09-02 22:57:59 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97fx83TxIEJvfs"], ["created_at", 2016-09-02 22:57:59 UTC], ["updated_at", 2016-09-02 22:57:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 18:58:00 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 22:58:00 UTC], ["last_sign_in_at", 2016-09-02 22:58:00 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 22:58:00 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.0ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQbkBProJYO6FDBQYjAz5B", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 1904ms (ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (14.9ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (5.5ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.9ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (4.7ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 23:02:04 UTC], ["updated_at", 2016-09-02 23:02:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$IEOyYPtvB/USp.jtsuCLXeTmYDMogbjWVt7e3C.VwKn2Hc2Vm8yZ6"], ["confirmed_at", 2016-09-02 23:02:02 UTC], ["created_at", 2016-09-02 23:02:06 UTC], ["updated_at", 2016-09-02 23:02:06 UTC], ["stripe_customer_id", "cus_97g19qgHPKMcSW"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 23:02:06 UTC], ["updated_at", 2016-09-02 23:02:06 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97g19wywWOMvVa"], ["created_at", 2016-09-02 23:02:06 UTC], ["updated_at", 2016-09-02 23:02:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 19:02:07 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 23:02:07 UTC], ["last_sign_in_at", 2016-09-02 23:02:07 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 23:02:07 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQfjBProJYO6FD9n4u7wo9", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 1820ms (ActiveRecord: 0.3ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (0.9ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (2.6ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (5.7ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 23:03:31 UTC], ["updated_at", 2016-09-02 23:03:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$Nt5HWJpcigAcQuzhnCz9wuLreRYLU9jdC6V1OrxGXEOiv/JVU/H.2"], ["confirmed_at", 2016-09-02 23:03:30 UTC], ["created_at", 2016-09-02 23:03:33 UTC], ["updated_at", 2016-09-02 23:03:33 UTC], ["stripe_customer_id", "cus_97g3trQtMfm7zr"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.6ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 23:03:33 UTC], ["updated_at", 2016-09-02 23:03:33 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97g30d2Al6L8LQ"], ["created_at", 2016-09-02 23:03:33 UTC], ["updated_at", 2016-09-02 23:03:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 19:03:34 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 23:03:34 UTC], ["last_sign_in_at", 2016-09-02 23:03:34 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 23:03:34 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQh8BProJYO6FDU6gcYYXH", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.7ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 1883ms (ActiveRecord: 1.3ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 19:03:36 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97g30d2Al6L8LQ"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.7ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (36.5ms)
  Rendered payment_profiles/_credit_card.html.erb (813.7ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (891.2ms)
  Rendered layouts/_header.html.erb (11.0ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1663ms (Views: 997.9ms | ActiveRecord: 2.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (4.6ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (8.1ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.3ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 23:05:57 UTC], ["updated_at", 2016-09-02 23:05:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$qPQ9N1KRGKL7XB.O6G3qiOk1Qi9a27hoQ/yI3U1tDYpLHEHLZjqzK"], ["confirmed_at", 2016-09-02 23:05:56 UTC], ["created_at", 2016-09-02 23:05:58 UTC], ["updated_at", 2016-09-02 23:05:58 UTC], ["stripe_customer_id", "cus_97g5C82DUrCf1M"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 23:05:59 UTC], ["updated_at", 2016-09-02 23:05:59 UTC]]
  [1m[36mSubscription Load (0.5ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.4ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97g56iGuvfhP2L"], ["created_at", 2016-09-02 23:05:59 UTC], ["updated_at", 2016-09-02 23:05:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 19:06:00 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 23:06:00 UTC], ["last_sign_in_at", 2016-09-02 23:06:00 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 23:06:00 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQjUBProJYO6FDEs09jGTF", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 1874ms (ActiveRecord: 0.2ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 19:06:02 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97g56iGuvfhP2L"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (21.3ms)
  Rendered payment_profiles/_credit_card.html.erb (475.7ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (508.6ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_flash_messages.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 1138ms (Views: 536.3ms | ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.1ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.1ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (1.5ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "plans" ("stripe_id", "name", "description", "amount", "interval", "published", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["stripe_id", "starter_plan"], ["name", "Starter Plan"], ["description", "<h4 class=\"text-center\">Starter</h4><ul><li> FREE </li><li> Trial usage of our tools </li><li> Automated financial advice </li></ul>"], ["amount", 0], ["interval", "month"], ["published", true], ["created_at", 2016-09-02 23:07:49 UTC], ["updated_at", 2016-09-02 23:07:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "confirmed_at", "created_at", "updated_at", "stripe_customer_id", "first_name", "last_name", "currency") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "john@example.com"], ["encrypted_password", "$2a$04$xZmYvfT2YgzXdjgrsCE6f.FA4BGN1vR6U8ZHHdiYK/mKNFLac42.6"], ["confirmed_at", 2016-09-02 23:07:48 UTC], ["created_at", 2016-09-02 23:07:50 UTC], ["updated_at", 2016-09-02 23:07:50 UTC], ["stripe_customer_id", "cus_97g76SRldlKGzi"], ["first_name", "John"], ["last_name", "Doe"], ["currency", "USD"]]
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPaymentProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "payment_profiles" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", 2016-09-02 23:07:50 UTC], ["updated_at", 2016-09-02 23:07:50 UTC]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "subscriptions" ("user_id", "plan_id", "stripe_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["plan_id", 1], ["stripe_id", "sub_97g7KYM4xBZLDE"], ["created_at", 2016-09-02 23:07:51 UTC], ["updated_at", 2016-09-02 23:07:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "john@example.com"], ["id", 1], ["LIMIT", 1]]
Started POST "/payment_profiles/add_card/1" for 127.0.0.1 at 2016-09-02 19:07:52 -0400
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2016-09-02 23:07:52 UTC], ["last_sign_in_at", 2016-09-02 23:07:52 UTC], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", 2016-09-02 23:07:52 UTC], ["id", 1]]
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.1ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PaymentProfilesController#add_card as HTML
  Parameters: {"stripeToken"=>"tok_18pQlIBProJYO6FDRSAyiOfM", "id"=>"1"}
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/payment_profiles/1/edit
Completed 302 Found in 2617ms (ActiveRecord: 0.3ms)
Started GET "/payment_profiles/1/edit" for 127.0.0.1 at 2016-09-02 19:07:55 -0400
Processing by PaymentProfilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPaymentProfile Load (0.1ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.3ms)[0m  [1m[34mSELECT  "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND "subscriptions"."stripe_id" = ? LIMIT ?[0m  [["user_id", 1], ["stripe_id", "sub_97g7KYM4xBZLDE"], ["LIMIT", 1]]
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."stripe_id" = ? LIMIT ?[0m  [["stripe_id", "starter_plan"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlan Load (0.1ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "subscriptions" WHERE "subscriptions"."user_id" = ? AND ("subscriptions"."id" != ?) LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering payment_profiles/edit.html.erb within layouts/application
  [1m[36mPaymentProfile Load (0.2ms)[0m  [1m[34mSELECT  "payment_profiles".* FROM "payment_profiles" WHERE "payment_profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSubscription Load (0.2ms)[0m  [1m[34mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "plans".* FROM "plans" WHERE "plans"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPlan Load (0.2ms)[0m  [1m[34mSELECT "plans".* FROM "plans" ORDER BY "plans"."amount" ASC[0m
  Rendered payment_profiles/_plans.html.erb (20.0ms)
  Rendered payment_profiles/_credit_card.html.erb (528.3ms)
  Rendered payment_profiles/edit.html.erb within layouts/application (562.6ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_flash_messages.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1220ms (Views: 596.4ms | ActiveRecord: 1.9ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (36.2ms)[0m  [1m[31mDELETE FROM "charges";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.4ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'charges';[0m
  [1m[35m (1.4ms)[0m  [1m[31mDELETE FROM "invoices";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'invoices';[0m
  [1m[35m (1.3ms)[0m  [1m[31mDELETE FROM "payment_profiles";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'payment_profiles';[0m
  [1m[35m (1.2ms)[0m  [1m[31mDELETE FROM "plans";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'plans';[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "subscriptions";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'subscriptions';[0m
  [1m[35m (2.8ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (223.1ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
